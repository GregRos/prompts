---
applyTo: "**/*.py"
---
# Python rules
> % ONLY APPLY
> - when writing python code.

- CONSIDER all python projects use at least 3.12
## Tooling
- CONSIDER All projects use poetry.
- CONSIDER `Pyright` must be installed as a dev dependency.
- CONSIDER all poetry projects should define `.venv` using `poetry.toml`
- MUST check there are no type errors, such as by executing pyright.
- ONLY use `pyright` config in `project.toml` and not `.vscode`

## Type hints

### Usage of types

- ONLY use `list[T]` and not `List[T]` etc.
- NEVER use `Optional[T]`. 
- ONLY use `T1 | T2` and not `Union[T1, T2]`
- NEVER use `TypeVar` when defining generic types.
### Function parameters
- ONLY declare parameters with type hints.
### Attributes of classes
- ONLY declare attributes with type hints.
### Class declaration
#### Dataclasses
- CONSIDER Using dataclasses when possible.
- NEVER define a dataclass when some of the fields shouldn't be public.
- NEVER define a dataclass with `Init` fields beginning with `_`.
