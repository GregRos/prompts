---
applyTo: "**/*.{tsx,jsx}"
---
# TypeScript rules
## Dependencies
> WHEN:
> - dependencies are involved.

ALWAYS check if package comes with type declarations.
NEVER use packages without type declarations.
ALWAYS try install `@types/package` if there are no type declarations.
NEVER write type declarations for external packages.
## Compilation
ALWAYS assume compilation is in strict mode.
## Declarations
PREFER `readonly` fields.
PREFER constructor fields.
NEVER use `namespace` declarations.
NEVER write code modifying `module`.
NEVER use `export = X`, UNLESS required by an API.
PREFER interfaces over type aliases.
NEVER use enums with string values.
WHEN using flags enums, ALWAYS use `1 << X` for values.

## Annotations
%%, such as:
- Function, getter returns
- Initialized variables
- Parameters with type defaults%%
NEVER add type annotations when they can be inferred
NEVER leave declarations as implicit `any`.
AVOID using `any`
NEVER annotate any symbol with object type literals.
NEVER annotate a local variable with function type literals. Parameters are okay.
AVOID annotating with conditional type expressions.
NEVER annotate with union or intersection type expressions.

%%ALWAYS define type aliases for function type literals used more than once.
NEVER use object literal types with call signatures.%%

### Discriminants
ALWAYS use discriminants when defining object union types:
- CONSIDER avoiding discriminants if all types are classes.
PREFER `string` discriminants.
WHEN a discriminant describes type, use 
## Code
NEVER pass an object expression when a class type is expected.
## Type checking
WHEN finishing your turn after writing TypeScript code:
- MUST run `yarn build` to check for type errors.