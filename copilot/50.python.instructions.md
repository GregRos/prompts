---
applyTo: "**/*.py"
---

# ALWAYS DO: Writing python code
This is a guide for writing Python code.

## Type hints

### Generics

- NEVER DO: Use `List`, `Dict`, and `Tuple` instead of `list`, `dict`, and `tuple`.
- NEVER DO: Use `Optional[T]`. Use `T | None` instead.
- NEVER DO: Use `Union[T1, T2]`. Use `T1 | T2` instead.

#### NEVER DO: Old style generics
Never use old style generics from `typing` like this:

```py
T = TypeVar('T')
def func(x: list[T]) -> dict[str, T]:
    ...
class MyClass(Generic[T]):
    ...    
```

Use new style generics like this:

```py
def func[T](x: list[T]) -> dict[str, T]:
    ...
class MyClass[T]:
    ...
```

### Parameters of functions and methods

- ALWAYS DO: Use type hints for all parameters except `self` and `cls`.
- ALWAYS DO: For optional parameters, use `T | None = None`.
- ALWAYS DO: For parameters with default values, use the type of the default value.

### Attributes of classes

- ALWAYS DO: Use type hints for all attributes.
- ALWAYS DO: For optional attributes, use `T | None = None`.
- ALWAYS DO: For attributes with default values, use the type of the default value.

### Class declaration

- ALWAYS DO: Use `@dataclass` for classes unless they require custom `__init__`.
-

### When to use

- PARAMETERS of functions and methods.
- ATTRIBUTES of classes.
